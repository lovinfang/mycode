<!DOCTYPE html>
<html>
  <head>
    <META http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>Handlebars.js循环中索引(@index)使用技巧 - by lovin</title>
  </head>
  <body>
    <h1>Handlebars.js循环中索引(@index)使用技巧</h1>
    <!--基础html框架-->
    <table>
      <thead>
        <tr>
          <th></th>
          <th>姓名</th>
          <th>性别</th>
          <th>年龄</th>
        </tr>
      </thead>
      <tbody id="tableList">
        
      </tbody>
    </table>
    
    <!--插件引用-->
    <script type="text/javascript" src="../../script/jquery/jquery.js"></script>
    <script type="text/javascript" src="../../script/handlebars/handlebars.js"></script>
    
    <!--Handlebars.js模版-->
    <!--Handlebars.js模版放在script标签中，保留了html原有层次结构,模版中要写一些操作语句-->
    <!--id可以用来唯一确定一个模版,type是模版固定的写法-->
    <script id="table-template" type="text/x-handlebars-template">
      {{#each this}}
        <tr>
          <td>{{@index}}.</td>
          <td>{{name}}</td>
          <td>{{sex}}</td>
          <td>{{age}}</td>
        </tr>
      {{/each}}
    </script>
    
    <!--进行数据处理、html构造-->
    <script type="text/javascript">
      var data = [{
        name: "张三",
        sex: "男",
        age: 35
      },{
        name: "李四",
        sex: "男",
        age: 23
      },{
        name: "甜妞",
        sex: "女",
        age: 18
      }];
      
      //解析模版
      var handle = Handlebars.compile($("#table-template").html());
      //生成html
      var html = handle(data);
      //插入到页面
      $("#tableList").append(html);
      
    </script>
  </body>
</html>